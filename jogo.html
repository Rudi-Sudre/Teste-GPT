<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo de Palavras</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      background-color: #171717; /* Cor de fundo escura */
      color: #ffffff; /* Cor do texto */
      text-align: center;
      margin: 20px;
    }

    h1 {
      color: #FF9800; /* Laranja */
      border: 2px solid #FF9800; /* Borda laranja */
      border-radius: 10px; /* Borda arredondada */
      padding: 10px; /* Preenchimento interno */
      display: inline-block; /* Permite ajustar a largura ao conteúdo */
    }

    h2 {
      color: #FF5722; /* Vermelho-escuro */
    }

    textarea {
      width: 90%; /* Largura aumentada para acomodar 50 caracteres por linha */
      max-width: 600px; /* Largura máxima para manter a legibilidade */
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
      max-height: 150px;
      resize: none; /* Desativa a capacidade de redimensionar */
      white-space: pre-wrap; /* Quebra de linha preservando espaços em branco */
      overflow-y: auto; /* Adiciona barra de rolagem vertical quando necessário */
      background-color: #000000; /* Cor de fundo preta */
      color: #ffffff; /* Cor do texto branco */
    }

    button {
      background-color: #E91E63; /* Rosa */
      color: white;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      margin-top: 10px;
    }

    button:hover {
      background-color: #D81B60; /* Tom mais escuro de rosa */
    }

    #palavraBox {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
    }

    .letraBox {
      border: 2px solid #333;
      border-radius: 5px;
      width: 30px; /* Largura aumentada para caber 50 caracteres na mesma linha */
      height: 60px;
      margin: 10px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 16px;
      background-color: #673AB7; /* Roxo */
      color: #FFC107; /* Amarelo-escuro */
      font-weight: bold;
      white-space: nowrap; /* Evita quebra de linha dentro da letraBox */
    }

    .info {
      margin-top: 5px;
      font-size: 12px;
      color: #777;
    }

    #rodape {
      position: fixed;
      bottom: 0;
      width: 100%;
      background-color: #171717; /* Cor de fundo escura */
      padding: 10px;
      text-align: center;
    }
  </style>
</head>
<body>

<h1>Jogo de Palavras</h1>
<h2>Escreva seu texto e aperte o botão</h2>

<textarea id="inputTexto" rows="5" oninput="formatarInput()"></textarea>
<div id="palavraBox"></div>
<button onclick="verificarPalavras()">Sorte do Dia!</button>

<div id="rodape">
  <p>&copy; 2024 Jogo de Palavras</p>
</div>

<script>
  // Lista de palavras a serem usadas no jogo
  const palavras = [
    "Computador", "Inteligência Artificial", "Software", "Algoritmo", "Web", "Framework",
    "Interface", "Backend", "Frontend", "API", "Mobile", "Segurança", "Rede", "Nuvem",
    "Banco de Dados", "Machine Learning", "Git", "Estrutura de Dados", "Desenvolvimento",
    "JavaScript", "HTML", "CSS", "OpenAI", "Inovação", "Tecnologia", "Sistema Operacional",
    "Realidade Virtual", "Big Data", "Cloud Computing", "Python", "Programação", "Arquitetura",
    "Segurança da Informação", "Cibersegurança", "IoT", "Inteligência de Negócios", "Automatização",
    "Realidade Aumentada", "Redes Sociais", "Plataforma", "Prototipagem", "Usabilidade",
    "Desenvolvimento Ágil", "Ferramentas", "Interação Humano-Computador", "Data Science", "Analytics",
    "Mobile First", "UX/UI Design", "E-commerce", "Responsive Design", "Scrum", "Kanban"
  ];
  let palavraAtualIndex = 0;

  function verificarPalavras() {
    // Obtém o texto inserido pelo jogador
    const textoInserido = document.getElementById('inputTexto').value;

    // Verifica as localizações de cada letra para a palavra atual
    const localizacoes = verificarPalavra(textoInserido, palavras[palavraAtualIndex]);
    
    // Exibe a palavra atual em uma caixa
    exibirPalavraBox(localizacoes);
    
    // Atualiza a palavra atual para a próxima
    palavraAtualIndex = (palavraAtualIndex + 1) % palavras.length;
  }

  function verificarPalavra(texto, palavraCorreta) {
    const localizacoes = [];

    // Verifica as localizações de cada letra
    for (let i = 0; i < palavraCorreta.length; i++) {
      const letra = palavraCorreta[i];
      let index = -1;

      // Procura a letra no texto (ignorando espaços e sem diferenciar maiúsculas e minúsculas)
      while ((index = texto.replace(/\s/g, '').toLowerCase().indexOf(letra.toLowerCase(), index + 1)) !== -1) {
        // Ignora espaços em branco na letrabox
        if (letra !== ' ' || (letra === ' ' && /\S/.test(texto.substring(0, index)))) {
          // Adiciona a localização
          const linha = texto.substring(0, index).split('\n').length;
          const coluna = index - texto.substring(0, index).lastIndexOf('\n');
          localizacoes.push(`${linha}:${coluna}`);
          break; // Somente a primeira ocorrência
        }
      }

      // Se a letra não estiver no texto, adiciona "null" ao array de localizações
      if (index === -1) {
        localizacoes.push("null");
      }
    }

    // Retorna as localizações
    return localizacoes;
  }

  function exibirPalavraBox(localizacoes) {
    const palavraCorreta = palavras[palavraAtualIndex];
    const palavraBox = document.getElementById('palavraBox');
    
    // Limpa o conteúdo anterior
    palavraBox.innerHTML = '';

    // Exibe cada letra em uma caixa
    for (let i = 0; i < palavraCorreta.length; i++) {
      const letra = palavraCorreta[i];
      
      // Ignora espaços em branco
      if (letra !== ' ') {
        const letraBox = document.createElement('div');
        letraBox.className = 'letraBox';
        letraBox.textContent = letra;

        // Adiciona a informação da localização
        const info = document.createElement('div');
        info.className = 'info';
        info.textContent = localizacoes[i];
        letraBox.appendChild(info);

        palavraBox.appendChild(letraBox);
      }
    }
  }

  function formatarInput() {
    const inputTexto = document.getElementById('inputTexto');
    const linhas = inputTexto.value.split('\n');
    const ultimaLinha = linhas[linhas.length - 1];
    const ultimaLinhaLength = ultimaLinha.length;

    if (ultimaLinhaLength > 50) {
      const novaLinha = ultimaLinha.substring(50);
      inputTexto.value = inputTexto.value + '\n' + novaLinha;
    }
  }
</script>

</body>
</html>
